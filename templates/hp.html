{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rated (by Kunal)</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="Stylesheet" href="{% static 'home.css' %}" />
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-dark">
      <h1 class="head ms-5 me-3 mt-1 fs-1" href="#">Rated</h1>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNavAltMarkup"
        aria-controls="navbarNavAltMarkup"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <box-icon color="white" name="menu"></box-icon>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav p-2">
          <a class="nav-item mx-2 text-white nav-link fs-4" href="#">Home</a>
          <a class="nav-item mx-2 text-white nav-link fs-4" href="search/">Search</a>
          <a class="nav-item mx-2 text-white nav-link fs-4" href="#Caros">Series</a>
          <a class="nav-item mx-2 text-white nav-link fs-4" href="#">Films</a>
        </div>
      </div>
    </nav>
<!-- ######################################################################### -->
<div class="mainhead">
      <a class="mainlink" href="content/skyfall">
        <div class="vignette">
          <div class="vignette-img">
            <img src="{% static 'pics/skyfall.jpg' %}"  class="mainpic" />
          </div>
          <div class="vignette-text">Skyfall</div>
        </div>
      </a>
    </div>

    <div
      style="background-color: rgba(255, 0, 0, 0); width: 100px; height: 100px"
    ></div>
    <!-- ############################################################################ -->
    <div class="msamm">Movies, Series and much more...</div>

    <div class="caros" id="Caros">
      {% for j in ids %}
        <div style="display: block">
          <div class="text-center">
            <div class="row my-auto justify-content-between">
              <div
                id="recipeCarousel{{forloop.counter}}"
                class="carousel slide"
                data-bs-ride="carousel">

                <div class="carousel-inner" role="listbox">
                  {% for i in j %} 
                    
                    {% if forloop.first %}
                    <!-- <h1 style="color: aliceblue;">{{i.0}}</h1> -->
                      
                      <div class="carousel-item {% if forloop.first %} active {% endif %}">
                        <div class="col-md-3">
                          <a href="/content/{{i.0}}" class="caroa">
                          <div class="card">
                            <div class="card-img">
                              <img src="{{i.1}}" class="img-fluid" />
                            </div>
                          </div>
                          
                          <div class="information">{{i.0}} </div>
                          </a>
                        </div>
                      </div>
                      
                    {% else %}
                    <!-- <h1 style="color: rgb(0, 130, 244);">{{i.0}}</h1> -->
                      
                      <div class="carousel-item {% if forloop.first %} active {% endif %}">
                        <div class="col-md-3">
                          <a href="/content/{{i.0}}" class="caroa">
                          <div class="card ">
                            <div class="card-img">
                              <img src="{{i.1}}" class="img-fluid">
                            </div>
                          </div>
                          <div class="information">{{i.0}}</div>
                          </a>
                        </div>
                      </div>
                      </a>
                    {% endif %}
                  
                  {% endfor %}

                </div>
                <hr><hr><hr>
                <a
                  class="carousel-control-prev bg-transparent w-aut "
                  href="#recipeCarousel{{forloop.counter}}"
                  role="button"
                  data-bs-slide="prev"
                >
                  <span
                    class="carousel-control-prev-icon"
                    aria-hidden="true"
                  ></span>
                </a>
                <a
                  class="carousel-control-next bg-transparent w-aut"
                  href="#recipeCarousel{{forloop.counter}}"
                  role="button"
                  data-bs-slide="next"
                >
                  <span
                    class="carousel-control-next-icon"
                    aria-hidden="true"
                  ></span>
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- <div
          style="background-color: rgb(255, 0, 0); width: 100px; height: 100px"
        ></div> -->
      {% endfor %}
    
    </div>


    <!-- ################################################################################ -->
    <script>
      let items = document.querySelectorAll(".carousel .carousel-item");
      items.forEach((el) => {
        const minPerSlide = 4;
        let next = el.nextElementSibling;
        for (var i = 1; i < minPerSlide; i++) {
          if (!next) {
            // wrap carousel by using first child
            next = items[0];
          }
          let cloneChild = next.cloneNode(true);
          el.appendChild(cloneChild.children[0]);
          next = next.nextElementSibling;
        }
      });
    </script>
    <!-- ################################################################################ -->
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
